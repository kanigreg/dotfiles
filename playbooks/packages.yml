- name: Install necessery packages
  hosts: targets
  tags: packages

  tasks:
    - name: Add unstable neovim repo
      become: true
      apt_repository:
        repo: ppa:neovim-ppa/unstable
        state: present

    - name: Install neovim=latest
      become: true
      ansible.builtin.apt:
        name: neovim
        state: latest

    - name: Install necessery packages
      become: true
      ansible.builtin.apt:
        pkg:
          - make
          - git
          - tmux
          - gcc
          - ripgrep
          - fd-find
          - zsh
          - fzf

    - name: Download and install bat (from dep pkg)
      become: true
      ansible.builtin.apt:
        deb: https://github.com/sharkdp/bat/releases/download/v0.24.0/bat_0.24.0_amd64.deb

    - name: Download and install git-delta (from dep pkg)
      become: true
      ansible.builtin.apt:
        deb: https://github.com/dandavison/delta/releases/download/0.17.0/git-delta_0.17.0_amd64.deb

